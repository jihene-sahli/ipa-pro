(function(){var a,b=[].indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(b in this&&this[b]===a)return b;return-1};a=function(a,b){var c,d;for(c in a)d=a[c],"$$hashKey"!==c&&(b[c]=d)},angular.module("builder.controller",["builder.provider"]).controller("fbFormObjectEditableController",["$scope","$injector","$http","$rootScope","$filter",function(c,d,e,f,g){var h;return h=d.get("$builder"),c.setupScope=function(b){var d,e,g,i,j,k,l,m,n,o,p,q,r,s;a(b,c),c.optionsText=b.options.join("\n"),c.optionsText2=b.options2.join("\n"),c.subrowsText=b.subrows.join("\n"),c.subcolumnsText=b.subcolumns.join("\n"),c.numbersubrowsText=b.numbersubrows.join("\n"),c.numbersubcolumnsText=b.numbersubcolumns.join("\n"),c.widthsubcolumnsText=b.widthsubcolumns.join("\n"),c.process=function(){var a;a=[];for(j in c.tachesbyprocess)a.push(j);return a}(),c.taches=[],r=c.tachesbyprocess;for(j in r)for(k=r[j],l=0,o=k.length;l<o;l++)g=k[l],c.taches.push(j+"-"+g);for(c.colProcess=[],c.colTaches=[],s=c.colTachesbyprocess,i=m=0,p=s.length;m<p;i=++m){d=s[i],c.colProcess[i]=function(){var a;a=[];for(j in d)a.push(j);return a}(),c.colTaches[i]=[];for(j in d)for(k=d[j],n=0,q=k.length;n<q;n++)g=k[n],c.colTaches[i].push(j+"-"+g)}return c.entity=f.entity,c.list=f.list,c.dateformatOptions=["Date","Time","DateTime"],c.datePatterns={Date:["dd/MM/yyyy","MM-dd-yyyy"],Time:["HH:mm","HH:mm:ss"],DateTime:["dd/MM/yyyy HH:mm","dd/MM/yyyy HH:mm:ss","MM-dd-yyyy HH:mm","MM-dd-yyyy HH:mm:ss"]},c.inputtypes=["text","radio","checkbox","color"],c.identitytypes={user:"Utilisateur",group:"Groupe",userGroup:"Utilisateurs du groupe"},c.doctypes={docx:"docx",pdf:"pdf"},c.listUsers=f.listUsers,c.listGroups=f.listGroups,c.listForms={"Module 1":{"process 1.1":{"1.1.1":"form 1.1.1","1.1.2":"form 1.1.2","1.1.3":"form 1.1.3","1.1.4":"form 1.1.4"},"process 1.2":{"1.2.1":"form 1.2.1","1.2.2":"form 1.2.2","1.2.3":"form 1.2.3"},"process 1.3":{"1.3.1":"form 1.3.1","1.3.2":"form 1.3.2","1.3.3":"form 1.3.3"}},"Module 2":{"process 2.1":{"2.1.1":"form 2.1.1","2.1.2":"form 2.1.2"},"process 2.2":{"2.2.1":"form 2.2.1","2.2.2":"form 2.2.2"},"process 2.3":{"2.3.1":"form 2.3.1","2.3.2":"form 2.3.2"}},"Module 3":{"process 3.1":{"3.1.1":"form 3.1.1"},"process 3.2":{"3.2.1":"form 3.2.1"}}},c.templates=f.templates,c.listTaches=f.taches,c.getAllTasks(),c.registres=f.registres,c.$watch("[id,label, description, onglet1, onglet2, placeholder, required, options, options2, validation, value, dateformat, treechecklistoptions, options3, subrows, subcolumns, numbersubrows, numbersubcolumns, widthsubcolumns, readgroups, readusers, writegroups, writeusers, disabledfortaches, lastcolumn, explastcolumn, multple, multilinerows, multilinecols, tachesbyprocess, allowImport, allowExport, allowSearch, allowFilter, entityUserRights, entityGroupRights, entityUserWriteRights, entityGroupWriteRights, entityFilter, regex, colTachesbyprocess, errorMessage,inputSize, datePattern, allowCreate, allowUpdate, allowDelete, databaseRequest, useRequest, maxSelect]",function(){return b.id=c.id,b.label=c.label,b.description=c.description,b.onglet1=c.onglet1,b.onglet2=c.onglet2,b.placeholder=c.placeholder,b.required=c.required,b.options=c.options,b.options2=c.options2,b.validation=c.validation,b.value=c.value,b.dateformat=c.dateformat,b.treechecklistoptions=c.treechecklistoptions,b.options3=c.options3,b.subrows=c.subrows,b.subcolumns=c.subcolumns,b.numbersubrows=c.numbersubrows,b.numbersubcolumns=c.numbersubcolumns,b.widthsubcolumns=c.widthsubcolumns,b.readgroups=c.readgroups,b.readusers=c.readusers,b.writegroups=c.writegroups,b.writeusers=c.writeusers,b.disabledfortaches=c.disabledfortaches,b.lastcolumn=c.lastcolumn,b.explastcolumn=c.explastcolumn,b.multple=c.multple,b.multilinerows=c.multilinerows,b.multilinecols=c.multilinecols,b.tachesbyprocess=c.tachesbyprocess,b.allowImport=c.allowImport,b.allowExport=c.allowExport,b.allowSearch=c.allowSearch,b.allowFilter=c.allowFilter,b.entityUserRights=c.entityUserRights,b.entityGroupRights=c.entityGroupRights,b.entityUserWriteRights=c.entityUserWriteRights,b.entityGroupWriteRights=c.entityGroupWriteRights,b.entityFilter=c.entityFilter,b.regex=c.regex,b.colTachesbyprocess=c.colTachesbyprocess,b.allowCreate=c.allowCreate,b.allowUpdate=c.allowUpdate,b.allowDelete=c.allowDelete,b.errorMessage=c.errorMessage,b.inputSize=c.inputSize,b.datePattern=c.datePattern,b.databaseRequest=c.databaseRequest,b.useRequest=c.useRequest,b.maxSelect=c.maxSelect},!0),c.$watch("optionsText",function(a){var b;return c.options=function(){var c,d,e,f;for(e=a.split("\n"),f=[],c=0,d=e.length;c<d;c++)b=e[c],b.length>0&&f.push(b);return f}(),c.inputText=c.options[0]}),c.$watch("optionsText2",function(a){var b;return c.options2=function(){var c,d,e,f;for(e=a.split("\n"),f=[],c=0,d=e.length;c<d;c++)b=e[c],b.length>0&&f.push(b);return f}(),c.inputText2=c.options2[0]}),c.$watch("subrowsText",function(a){var b;return c.subrows=function(){var c,d,e,f;for(e=a.split("\n"),f=[],c=0,d=e.length;c<d;c++)b=e[c],b.length>0&&f.push(b);return f}()}),c.$watch("subcolumnsText",function(a){var b;return c.subcolumns=function(){var c,d,e,f;for(e=a.split("\n"),f=[],c=0,d=e.length;c<d;c++)b=e[c],b.length>0&&f.push(b);return f}()}),c.$watch("numbersubrowsText",function(a){var b;return c.numbersubrows=function(){var c,d,e,f;for(e=a.split("\n"),f=[],c=0,d=e.length;c<d;c++)b=e[c],b.length>0&&f.push(b);return f}()}),c.$watch("numbersubcolumnsText",function(a){var b;return c.numbersubcolumns=function(){var c,d,e,f;for(e=a.split("\n"),f=[],c=0,d=e.length;c<d;c++)b=e[c],b.length>0&&f.push(b);return f}()}),c.$watch("widthsubcolumnsText",function(a){var b;return c.widthsubcolumns=function(){var c,d,e,f;for(e=a.split("\n"),f=[],c=0,d=e.length;c<d;c++)b=e[c],b.length>0&&f.push(b);return f}()}),f.$watch("listUsers",function(){return c.listUsers=f.listUsers}),f.$watch("listGroups",function(){return c.listGroups=f.listGroups}),f.$watch("entity",function(){return c.entity=f.entity}),f.$watch("list",function(){return c.list=f.list}),f.$watch("templates",function(){return c.templates=f.templates}),f.$watch("forms",function(){return c.forms=f.forms}),f.$watch("taches",function(){return c.listTaches=f.taches,c.getAllTasks()}),f.$watch("registres",function(){return c.registres=f.registres}),e=h.components[b.component],c.validationOptions=e.validationOptions},c.data={model:null,backup:function(){return this.model={id:c.id,label:c.label,description:c.description,onglet1:c.onglet1,onglet2:c.onglet2,placeholder:c.placeholder,required:c.required,optionsText:c.optionsText,optionsText2:c.optionsText2,validation:c.validation,value:c.value,dateformat:c.dateformat,treechecklistoptions:JSON.parse(JSON.stringify(c.treechecklistoptions)),subrowsText:c.subrowsText,subcolumnsText:c.subcolumnsText,numbersubrowsText:c.numbersubrowsText,widthsubcolumnsText:c.widthsubcolumnsText,numbersubcolumnsText:c.numbersubcolumnsText,readgroups:c.readgroups,readusers:c.readusers,writegroups:c.writegroups,writeusers:c.writeusers,disabledfortaches:c.disabledfortaches,lastcolumn:c.lastcolumn,explastcolumn:c.explastcolumn,multple:c.multple,multilinerows:JSON.parse(JSON.stringify(c.multilinerows)),multilinecols:JSON.parse(JSON.stringify(c.multilinecols)),process:c.process,taches:c.taches,allowImport:c.allowImport,allowExport:c.allowExport,allowSearch:c.allowSearch,allowFilter:c.allowFilter,regex:c.regex,errorMessage:c.errorMessage,inputSize:c.inputSize,datePattern:c.datePattern,colProcess:c.process,colTaches:c.taches,allowCreate:c.allowCreate,allowUpdate:c.allowUpdate,allowDelete:c.allowDelete,databaseRequest:c.databaseRequest,useRequest:c.useRequest,maxSelect:c.maxSelect}},rollback:function(){if(this.model)return c.id=this.model.id,c.label=this.model.label,c.description=this.model.description,c.onglet1=this.model.onglet1,c.onglet2=this.model.onglet2,c.placeholder=this.model.placeholder,c.required=this.model.required,c.optionsText=this.model.optionsText,c.optionsText2=this.model.optionsText2,c.validation=this.model.validation,c.value=this.model.value,c.dateformat=this.model.dateformat,c.treechecklistoptions=this.model.treechecklistoptions,c.subrowsText=this.model.subrowsText,c.subcolumnsText=this.model.subcolumnsText,c.numbersubrowsText=this.model.numbersubrowsText,c.widthsubcolumnsText=this.model.widthsubcolumnsText,c.numbersubcolumnsText=this.model.numbersubcolumnsText,c.readgroups=this.model.readgroups,c.readusers=this.model.readusers,c.writegroups=this.model.writegroups,c.writeusers=this.model.writeusers,c.disabledfortaches=this.model.disabledfortaches,c.lastcolumn=this.model.lastcolumn,c.explastcolumn=this.model.explastcolumn,c.multple=this.model.multple,c.multilinerows=this.model.multilinerows,c.multilinecols=this.model.multilinecols,c.process=this.model.process,c.taches=this.model.taches,c.allowImport=this.model.allowImport,c.allowExport=this.model.allowExport,c.allowSearch=this.model.allowSearch,c.allowFilter=this.model.allowFilter,c.regex=this.model.regex,c.errorMessage=this.model.errorMessage,c.inputSize=this.model.inputSize,c.datePattern=this.model.datePattern,c.colProcess=this.model.colProcess,c.colTaches=this.model.colTaches,c.allowCreate=this.model.allowCreate,c.allowUpdate=this.model.allowUpdate,c.allowDelete=this.model.allowDelete,c.databaseRequest=this.model.databaseRequest,c.useRequest=this.model.useRequest,c.maxSelect=this.model.maxSelect}},c.newSubItem=function(a,b){return null!=b?c[a][b].nodes.push({level:2,title:"",nodes:[]}):c[a].push({level:1,title:"",nodes:[]})},c.removeElm=function(a,b,d){return null!=d?c[a][b].nodes.splice(d,1):c[a].splice(b,1)},c.getRowPosition=function(a,b){var c,d,e,f,g;for(c=0,d=0,f=0,g=b.length;f<g;f++){if(e=b[f],d+=parseInt(e),!(a>=d))return c;c+=1}},c.tableBoby=[],c.getTableBoby=function(a,d,e,f,g,h){var i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D;if(n=[],i=0,a.length)for(m=s=0,w=a.length;s<w;m=++s){for(l=a[m],j=1,r=t=0,x=d.length;t<x;r=++t)if(q=d[r],i<=r&&r<i+parseInt(e[m])){for(o=[{content:q,width:parseInt(h[1])}],j&&o.unshift({content:l,rowspan:parseInt(e[m]),width:parseInt(h[0])}),p=u=0,y=f.length;u<y;p=++u)f[p],k="hidden",C=g[p],b.call(c.inputtypes,C)>=0&&(k=g[p]),o.push({input:k});n.push(o),j=0}j&&n.push([{content:l}]),i+=parseInt(e[m])}else for(r=v=0,z=d.length;v<z;r=++v){for(q=d[r],o=[{content:q,colspan:2,width:parseInt(h[1])}],p=B=0,A=f.length;B<A;p=++B)f[p],k="hidden",D=g[p],b.call(c.inputtypes,D)>=0&&(k=g[p]),o.push({input:k});n.push(o)}return JSON.stringify(c.tableBoby)!==JSON.stringify(n)&&(c.tableBoby=n),c.tableBoby},c.tableMultiline=[],c.getTableMultiline=function(a,b,d){var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x;for(i=[],e=[{content:" ",rowspan:2,colspan:2}],j=[],g=[],n=0,r=a.length;n<r;n++){for(f=a[n],e.push({content:f.title,colspan:f.nodes.length,rowspan:0===f.nodes.length?2:void 0,width:f.size&&0===f.nodes.length?f.size:void 0}),v=f.nodes,o=0,s=v.length;o<s;o++)k=v[o],j.push({content:k.title,width:k.size?k.size:void 0}),g.push({input:null!=(w=k.input)?w:f.input});0===f.nodes.length&&g.push({input:f.input})}for(i.push(e),i.push(j),p=0,t=b.length;p<t;p++)if(h=b[p],0===h.nodes.length)i.push([{content:h.title,colspan:2,width:d[0]}].concat(g));else for(x=h.nodes,m=q=0,u=x.length;q<u;m=++q)l=x[m],0===m?i.push([{content:h.title,rowspan:h.nodes.length,width:d[0]},{content:l.title}].concat(g)):i.push([{content:l.title,width:d[1]}].concat(g));return JSON.stringify(c.tableMultiline)!==JSON.stringify(i)&&(c.tableMultiline=i),c.tableMultiline},c.inArray=function(a,c){return a=String(a),b.call(c,a)>=0},c.listProcessModules={},c.listFormsProcess={},c.listTachesProcess={},c.arrayListTachesProcess=[],c.colListTachesProcess={},c.colArrayListTachesProcess=[],c.mergeObjects=function(a,b,d){var e,f,h,i,j,k,l,m,n,o,p;if(j={},a){if("taches"!==b&&"colProcess"!==b)for(l=0,n=a.length;l<n;l++){h=a[l];for(f in h)k=h[f],j[f]=k}else for(e=[],m=0,o=a.length;m<o;m++)if(i=a[m],c.listTaches){p=c.listTaches[i].fields;for(f in p)k=p[f],j[i+"-"+f]=k,e.push({id:i+"-"+f,name:k})}if("process"===b)return JSON.stringify(c.listProcessModules)!==JSON.stringify(j)&&(c.listProcessModules=j),c.listProcessModules;if("forms"===b)return JSON.stringify(c.listProcessModules)!==JSON.stringify(j)&&(c.listFormsProcess=j),c.listFormsProcess;if("taches"===b)return JSON.stringify(c.listTachesProcess)!==JSON.stringify(j)&&(c.listTachesProcess=j,c.arrayListTachesProcess=g("orderBy")(e,"name")),c.arrayListTachesProcess;if("colProcess"===b)return JSON.stringify(c.colListTachesProcess[d])!==JSON.stringify(j)&&(c.colListTachesProcess[d]=j,c.colArrayListTachesProcess[d]=g("orderBy")(e,"name")),c.colArrayListTachesProcess[d]}return j},c.getSrcMap=function(a,b,c){return GMaps.staticMapURL({size:[400,300],lat:b,lng:c,zoom:a})},c.orderOptions=function(a,c){var d,e,f,g,h,i,j;for(g=0,i=c.length;g<i;g++)e=c[g],b.call(a,e)<0&&a.push(e);for(f=[],h=0,j=a.length;h<j;h++)d=a[h],b.call(c,d)>=0&&f.push(d);return f},c.getArrayByOPtions=function(a,c,d){var e,f,g,h,i;if(d.length>c.length){for(g=[],f=h=0,i=a.length;h<i;f=++h)e=a[f],b.call(c,e)>=0&&g.push(d[f]);return g}return d},c.getTachesByProcess=function(){var a,b,d,e,f,g,h;for(d={},h=c.process,f=0,g=h.length;f<g;f++)if(b=h[f],c.listTaches[b]){e=[];for(a in c.listTaches[b].fields)c.inArray(b+"-"+a,c.taches)&&e.push(a);e.length&&(d[b]=e)}return c.tachesbyprocess=d},c.getColTachesByProcess=function(){var a,b,d,e,f,g,h,i,j,k,l,m;for(a=[],m=c.colProcess,b=i=0,k=m.length;i<k;b=++i){for(f=m[b],g={},j=0,l=f.length;j<l;j++){e=f[j],h=[];for(d in c.listTaches[e].fields)c.inArray(e+"-"+d,c.colTaches[b])&&h.push(d);h.length&&(g[e]=h)}a.push(g)}return c.colTachesbyprocess=a},c.getAllTasks=function(){var a,b,d,e,f,g,h,i,j,k,l;j=c.tachesbyprocess;for(b in j)for(d=j[b],void 0===c.listTaches[b]&&(c.listTaches[b]={name:b+" (supprimé)",fields:{}}),f=0,h=d.length;f<h;f++)e=d[f],void 0===c.listTaches[b].fields[e]&&(c.listTaches[b].fields[e]=e+" (supprimé)");for(k=c.colTachesbyprocess,l=[],g=0,i=k.length;g<i;g++)a=k[g],l.push(function(){var f;f=[];for(b in a)d=a[b],void 0===c.listTaches[b]&&(c.listTaches[b]={name:b+" (supprimé)",fields:{}}),f.push(function(){var a,f,g;for(g=[],a=0,f=d.length;a<f;a++)e=d[a],void 0===c.listTaches[b].fields[e]?g.push(c.listTaches[b].fields[e]=e+" (supprimé)"):g.push(void 0);return g}());return f}());return l},c.toggle=function(a,b){var c;return c=b.indexOf(a),c>-1?b.splice(c,1):b.push(a)},c.exists=function(a,b){return b.indexOf(a)>-1}}]).controller("fbComponentsController",["$scope","$injector",function(a,b){var c;return c=b.get("$builder"),a.selectGroup=function(b,d){var e,f,g,h;null!=b&&b.preventDefault(),a.activeGroup=d,a.components=[],g=c.components,h=[];for(f in g)e=g[f],e.group===d&&h.push(a.components.push(e));return h},a.groups=c.groups,a.activeGroup=a.groups[0],a.allComponents=c.components,a.$watch("allComponents",function(){return a.selectGroup(null,a.activeGroup)}),a.getComponents=function(b,d){var e,f,g,h;null!=b&&b.preventDefault(),a.activeGroup=d,f=[],h=c.components;for(g in h)e=h[g],e.group===d&&f.push(e);return f}}]).controller("fbComponentController",["$scope",function(b){return b.copyObjectToScope=function(c){return a(c,b)}}]).controller("fbFormController",["$scope","$injector","$window","$rootScope",function(a,b,c,d){var e,f;return e=b.get("$builder"),f=b.get("$timeout"),null==a.input&&(a.input=[]),a.$watch("form",function(){return a.input.length>a.form.length&&a.input.splice(a.form.length),f(function(){return a.$broadcast(e.broadcastChannel.updateInput)})},!0),c.onbeforeunload=function(){if(!d.exit)return""}}]).controller("fbFormObjectController",["$scope","$injector",function(b,c){return c.get("$builder"),b.copyObjectToScope=function(c){return a(c,b)},b.updateInput=function(a){var c;return c={id:b.formObject.id,label:b.formObject.label,value:null!=a?a:""},b.$parent.input.splice(b.$index,1,c)}}])}).call(this),function(){angular.module("builder.directive",["builder.provider","builder.controller","builder.drag","validator"]).directive("fbBuilder",["$injector",function(a){var b,c;return b=a.get("$builder"),c=a.get("$drag"),{restrict:"A",scope:{fbBuilder:"="},template:"<div class='form-horizontal'>\n    <div class='fb-form-object-editable' ng-repeat=\"object in formObjects\"\n        fb-form-object-editable=\"object\" ng-class=\"{'multiline':object.component == 'multiline' || object.component == 'multilineentity' || object.component == 'bardocument' || object.component == 'imagezone'}\"></div>\n</div>",link:function(a,d,e){var f,g,h;return a.formName=e.fbBuilder,null==(g=b.forms)[h=a.formName]&&(g[h]=[]),a.formObjects=b.forms[a.formName],f=!0,$(d).addClass("fb-builder"),c.droppable($(d),{move:function(a){var b,c,e,g,h,i,j,k,l,m,n;if(f&&($("div.fb-form-object-editable").popover("hide"),f=!1),e=$(d).find(".fb-form-object-editable:not(.empty,.dragging)"),0===e.length)return void(0===$(d).find(".fb-form-object-editable.empty").length&&$(d).find(">div:first").append($("<div class='fb-form-object-editable empty'></div>")));for(j=[],j.push(-1e3),h=k=0,m=e.length;k<m;h=k+=1)c=$(e[h]),i=c.offset(),g=c.height(),j.push(i.top+g/2);for(j.push(j[j.length-1]+1e3),h=l=1,n=j.length;l<n;h=l+=1)if(a.pageY>j[h-1]&&a.pageY<=j[h]){$(d).find(".empty").remove(),b=$("<div class='fb-form-object-editable empty'></div>"),h-1<e.length?b.insertBefore($(e[h-1])):b.insertAfter($(e[h-2]));break}},out:function(){return f&&($("div.fb-form-object-editable").popover("hide"),f=!1),$(d).find(".empty").remove()},up:function(g,h,i){var j,k,l;return f=!0,c.isMouseMoved()?(h||"drag"!==i.mode?h&&("mirror"===i.mode&&b.insertFormObject(a.formName,$(d).find(".empty").index(".fb-form-object-editable"),{component:i.object.componentName}),"drag"===i.mode&&(l=i.object.formObject.index,k=$(d).find(".empty").index(".fb-form-object-editable"),l<k&&k--,b.updateFormObjectIndex(a.formName,l,k))):(j=i.object.formObject,j.editable&&b.removeFormObject(e.fbBuilder,j.index)),$(d).find(".empty").remove()):void $(d).find(".empty").remove()}})}}}]).directive("fbFormObjectEditable",["$injector",function(a){var b,c,d,e;return b=a.get("$builder"),d=a.get("$drag"),c=a.get("$compile"),e=a.get("$validator"),{restrict:"A",controller:"fbFormObjectEditableController",scope:{formObject:"=fbFormObjectEditable"},link:function(a,f){var g;if(a.inputArray=[],a.$component=b.components[a.formObject.component],a.setupScope(a.formObject),a.$watch("$component.template",function(b){var d;if(b)return d=c(b)(a),$(f).html(d)}),$(f).on("click",function(){return!1}),d.draggable($(f),{object:{formObject:a.formObject}}),a.formObject.editable)return g={},a.$watch("$component.popoverTemplate",function(d){if(d)return $(f).removeClass(g.id),g={id:"fb-"+Math.random().toString().substr(2),isClickedSave:!1,view:null,html:d},g.html=$(g.html).addClass(g.id),g.view=c(g.html)(a),$(f).addClass(g.id),$(f).popover({html:!0,title:a.$component.label,content:g.view,container:"#popover-contner",placement:b.config.popoverPlacement})}),a.popover={save:function(b){b.preventDefault(),e.validate(a).success(function(){return g.isClickedSave=!0,$(f).popover("hide")})},remove:function(c){c.preventDefault(),b.removeFormObject(a.$parent.formName,a.$parent.$index),$(f).popover("hide")},shown:function(){return a.data.backup(),g.isClickedSave=!1},cancel:function(a){a&&(a.preventDefault(),$(f).popover("hide"))},refreshmultiselect:function(a){var b;b=$("form."+g.id).closest(".popover"),setTimeout(function(){return b.find("#"+g.id+"-"+a).multiSelect("refresh")},0)},setmultiselect:function(a,b){var c;c=$("form."+g.id).closest(".popover"),setTimeout(function(){return b?c.find("."+a).multiSelect("refresh"):c.find("."+a).multiSelect()},0)}},$(f).on("show.bs.popover",function(){var a,b;return!d.isMouseMoved()&&($("div.fb-form-object-editable:not(."+g.id+")").popover("hide"),a=$("form."+g.id).closest(".popover"),a.length>0?(b=$(f).offset().top+$(f).height()/2,b-a.height()/2,a.show(),$(f).addClass("componant-checked"),setTimeout(function(){return a.addClass("in")},0),!1):void 0)}),$(f).on("shown.bs.popover",function(){var b;b=$("form."+g.id).closest(".popover"),b.find("#readgroups-select").multiSelect({keepOrder:!0}),b.find("#readusers-select").multiSelect({keepOrder:!0}),b.find("#writegroups-select").multiSelect({keepOrder:!0}),b.find("#writeusers-select").multiSelect({keepOrder:!0}),b.find("#listmodules-select").multiSelect({keepOrder:!0}),b.find("#listprocess-select").multiSelect({keepOrder:!0}),b.find("#listforms-select").multiSelect({keepOrder:!0}),b.find(".multilinecol-select").attr({id:g.id+"-multilinecol-select"}),b.find(".multilinecol-select").multiSelect({keepOrder:!0}),b.find(".process-select").attr({id:g.id+"-process-select"}),b.find(".process-select").multiSelect(),b.find(".disabledfortaches-select").multiSelect({keepOrder:!0}),b.find(".taches-select").attr({id:g.id+"-taches-select"}),b.find(".disabledfortaches-select").attr({id:g.id+"-taches-select"}),b.find(".taches-select").multiSelect(),b.find(".picklistidentity-select").attr({id:g.id+"-picklistidentity-select"}),b.find(".picklistidentity-select").multiSelect({keepOrder:!0}),b.find(".col-right-group").multiSelect(),b.find(".col-right-user").multiSelect(),b.find(".col-right-process").multiSelect(),b.find(".col-right-taches").multiSelect(),b.css({left:"0px",top:"0px"}),$(f).addClass("componant-checked"),$(".popover ."+g.id+" input:first").select(),a.$apply(function(){return a.popover.shown()})}),$(f).on("hide.bs.popover",function(){var a;return a=$("form."+g.id).closest(".popover"),a.removeClass("in"),$(f).removeClass("componant-checked"),setTimeout(function(){return a.hide()},300),!1})}}}]).directive("fbComponents",function(){return{restrict:"A",template:'\n\n<div class="accordion" id="accordion">\n    <div ng-repeat="group in groups" class="accordion-group">\n      <div class="accordion-heading" ng-init="clicked=false">\n        <a class="accordion-toggle" data-toggle="collapse" ng-click="clicked=!clicked" data-parent="#accordion" href="#{{group}}">\n            <i class="glyphicon glyphicon-chevron-right" ng-show="clicked==false"></i>\n            <i class="glyphicon glyphicon-chevron-down" ng-show="clicked==true"></i> {{group}}\n        </a>\n      </div>\n      <hr>\n      <div id="{{group}}" class="form-horizontal accordion-body collapse">\n        <div class="accordion-inner" ng-init="components = getComponents($event, group)">\n         <div class=\'fb-component\' ng-repeat="component in components"\n                fb-component="component"></div><hr>\n      </div>\n    </div>\n</div>',controller:"fbComponentsController"}}).directive("fbComponent",["$injector",function(a){var b,c;return a.get("$builder"),c=a.get("$drag"),b=a.get("$compile"),{restrict:"A",scope:{component:"=fbComponent"},controller:"fbComponentController",link:function(a,d){return a.copyObjectToScope(a.component),c.draggable($(d),{mode:"mirror",defer:!1,object:{componentName:a.component.name}}),a.$watch("component.icon",function(c){var e;if(c)return e=b(c)(a),$(d).html(e)})}}}]).directive("fbForm",["$injector",function(a){return{restrict:"A",require:"ngModel",scope:{formName:"@fbForm",input:"=ngModel",default:"=fbDefault"},template:'<div class=\'fb-form-object\' ng-repeat="object in form" fb-form-object="object"></div>',controller:"fbFormController",link:function(b,c,d){var e,f,g;return e=a.get("$builder"),null==(f=e.forms)[g=b.formName]&&(f[g]=[]),b.form=e.forms[b.formName]}}}]).directive("fbFormObject",["$injector",function(a){var b,c,d;return b=a.get("$builder"),c=a.get("$compile"),d=a.get("$parse"),{restrict:"A",controller:"fbFormObjectController",link:function(a,e,f){return a.formObject=d(f.fbFormObject)(a),a.$component=b.components[a.formObject.component],a.$on(b.broadcastChannel.updateInput,function(){return a.updateInput(a.inputText)}),a.$component.arrayToText&&(a.inputArray=[],a.$watch("inputArray",function(b,c){var d,e,f;if(b!==c){d=[];for(e in a.inputArray)a.inputArray[e]&&d.push(null!=(f=a.options[e])?f:a.inputArray[e]);return a.inputText=d.join(", ")}},!0)),a.$watch("inputText",function(){return a.updateInput(a.inputText)}),a.$watch(f.fbFormObject,function(){return a.copyObjectToScope(a.formObject)},!0),a.$watch("$component.template",function(b){var d,f,g;if(b)return f=$(b),d=f.find("[ng-model='inputText']"),d.attr({validator:"{{validation}}"}),g=c(f)(a),$(e).html(g)}),!a.$component.arrayToText&&a.formObject.options.length>0&&(a.inputText=a.formObject.options[0]),a.$watch("default['"+a.formObject.id+"']",function(b){if(b)return a.$component.arrayToText?a.inputArray=b:a.inputText=b})}}}]).directive("resizable",["$window",function(a){return{restrict:"A",controller:"fbFormController",link:function(b,c,d){return b.initializeWindowSize=function(){return b.windowHeight=a.innerHeight,b.style=function(){return{height:b.windowHeight-93+"px"}}},b.initializeWindowSize(),angular.element(a).bind("resize",function(){return b.initializeWindowSize(),b.$apply()})}}}]).directive("rights",function(){return{restrict:"A",controller:"fbComponentsController",template:'        <div class="form-group">\n            <input type=\'button\' ng-init="composant = false" ng-click="composant = !composant" class=\'btn btn-primary btn-block\' value=\'Composant\'/>\n        </div>\n        <div ng-show="composant" class="modall">\n            <i class="glyphicon glyphicon-remove-circle" ng-click="composant = !composant"></i>\n            <hr/>\n            <div class="btn-group" data-toggle="buttons">\n                <label class="btn btn-success" ng-click="typeRights = \'taskComposant\'">\n                    <input type="radio">Tâches\n</label>\n<label class="btn btn-success" ng-click="typeRights = \'groupComposant\'">\n                    <input type="radio">Groupes\n</label>\n<label class="btn btn-success" ng-click="typeRights = \'userComposant\'">\n                    <input type="radio">Utilisateurs\n</label>\n            </div>\n            <hr/>\n            <div ng-show="typeRights == \'taskComposant\'" class="form-group col-sm-6">\n                <table class="table table-bordered">\n                    <tr><th class="col-md-10">Process</th><th class="text-center col-md-1">Selectionner</th></tr>\n                    <tr ng-repeat="(key,element) in listTaches">\n                        <td>{{element.name}}</td>\n                        <td class="text-center"><input type=\'checkbox\' ng-checked="exists(key, process)" ng-click="toggle(key, process); getTachesByProcess();"/></td>\n                    </tr>\n                </table>\n            </div>\n            <div ng-show="typeRights == \'taskComposant\'" class="form-group col-sm-6">\n                <table class="table table-bordered">\n                    <tr><th class="col-md-10">Tâches</th><th class="text-center col-md-1">Selectionner</th><th class="text-center col-md-1">grisé</th></tr>\n                    <tr ng-repeat="element in mergeObjects(process, \'taches\',\'disabledfortaches\')">\n                        <td>{{element.name}}</td>\n                        <td class="text-center"><input type=\'checkbox\' ng-checked="exists(element.id, taches)" ng-click="toggle(element.id, taches); getTachesByProcess();"/></td>\n\t\t\t\t<td class="text-center"><input type=\'checkbox\' ng-checked="exists(element.id, disabledfortaches)" ng-click="toggle(element.id, disabledfortaches); getTachesByProcess();"/></td>\n                    </tr>\n                </table>\n            </div>\n            <div ng-show="typeRights == \'groupComposant\'" class="form-group">\n                <table class="table table-bordered">\n                    <tr><th class="col-md-10">Groupes</th><th class="text-center col-md-1">Lecture</th><th class="text-center col-md-1">Ecriture</th></tr>\n                    <tr ng-repeat="group in listGroups">\n                        <td>{{group.name}}</td>\n                        <td class="text-center"><input type=\'checkbox\' ng-checked="exists(group.id, readgroups)" ng-click="toggle(group.id, readgroups)"/></td>\n                        <td class="text-center"><input type=\'checkbox\' ng-checked="exists(group.id, writegroups)" ng-click="toggle(group.id, writegroups)"/></td>\n                    </tr>\n                </table>\n            </div>\n            <div ng-show="typeRights == \'userComposant\'" class="form-group">\n                <table class="table table-bordered">\n                    <tr><th class="col-md-10">Utilisateurs</th><th class="text-center col-md-1">Lecture</th><th class="text-center col-md-1">Ecriture</th></tr>\n                    <tr ng-repeat="user in listUsers">\n                        <td>{{user.firstName}} {{user.lastName}}</td>\n                        <td class="text-center"><input type=\'checkbox\' ng-checked="exists(user.id, readusers)" ng-click="toggle(user.id, readusers)"/></td>\n                        <td class="text-center"><input type=\'checkbox\' ng-checked="exists(user.id, writeusers)" ng-click="toggle(user.id, writeusers)"/></td>\n                    </tr>\n                </table>\n            </div>\n        </div>\n        <hr/>'}}).directive("deletecomponent",function(){return{restrict:"A",controller:"fbComponentsController",template:"<input type='button' ng-click=\"popover.remove($event)\" class='btn btn-danger btn-block' value='Delete'/>"}}).directive("propagation",function(){return{restrict:"A",controller:"fbComponentsController",template:'<div class=\'form-group\'>\n    <input type=\'button\' ng-init="propagation = false" ng-click="propagation = !propagation" class=\'btn btn-primary btn-block\' value=\'Propagation\'/>\n</div>\n<div ng-show="propagation">\n    <div class="form-group">\n        <label class=\'control-label\'>Modules</label>\n        <select id="listmodules-select" multiple class=\'form-control\' ng-model="m" ng-options="module for (module, process) in listForms" ng-change="popover.refreshmultiselect(\'listprocess-select\'); p=[]; f=[]"/>\n    </div>\n    <div class="form-group">\n        <label class=\'control-label\'>Process</label>\n        <select id="listprocess-select" multiple class=\'form-control\' ng-model="p" ng-options="proc for (proc,forms) in mergeObjects(m, \'process\')" ng-change="popover.refreshmultiselect(\'listforms-select\'); f=[]"/>\n    </div>\n    <div class="form-group">\n        <label class=\'control-label\'>Forms</label>\n\n        <select id="listforms-select" multiple class=\'form-control\' ng-model="f" ng-options="value for (id,value) in mergeObjects(p, \'forms\')"/>\n    </div>\n</div>\n<hr/>'}})}.call(this),function(){angular.module("builder.drag",[]).provider("$drag",function(){var a,b,c;a=null,b=null,this.data={draggables:{},droppables:{}},this.mouseMoved=!1,this.isMouseMoved=function(a){return function(){return a.mouseMoved}}(this),this.hooks={down:{},move:{},up:{}},this.eventMouseMove=function(){},this.eventMouseUp=function(){},$(function(a){return function(){return $(document).on("mousedown",function(b){var c,d;a.mouseMoved=!1,d=a.hooks.down;for(c in d)(0,d[c])(b)}),$(document).on("mousemove",function(b){var c,d;a.mouseMoved=!0,d=a.hooks.move;for(c in d)(0,d[c])(b)}),$(document).on("mouseup",function(b){var c,d;d=a.hooks.up;for(c in d)(0,d[c])(b)})}}(this)),this.currentId=0,this.getNewId=function(a){return function(){return""+a.currentId++}}(this),this.setupEasing=function(){return jQuery.extend(jQuery.easing,{easeOutQuad:function(a,b,c,d,e){return-d*(b/=e)*(b-2)+c}})},this.setupProviders=function(c){return a=c,b=a.get("$rootScope")},this.isHover=function(a){return function(a,b){var c,d,e,f,g;return d=a.offset(),e=b.offset(),f={width:a.width(),height:a.height()},g={width:b.width(),height:b.height()},c={x:!1,y:!1},c.x=d.left>e.left&&d.left<e.left+g.width,c.x=c.x||d.left+f.width>e.left&&d.left+f.width<e.left+g.width,!!c&&(c.y=d.top>e.top&&d.top<e.top+g.height,c.y=c.y||d.top+f.height>e.top&&d.top+f.height<e.top+g.height,c.x&&c.y)}}(),c=function(a,b){return setTimeout(function(){return b()},a)},this.autoScroll={up:!1,down:!1,scrolling:!1,scroll:function(a){return function(){return a.autoScroll.scrolling=!0,
a.autoScroll.up?($("html, body").dequeue().animate({scrollTop:$(window).scrollTop()-50},100,"easeOutQuad"),c(100,function(){return a.autoScroll.scroll()})):a.autoScroll.down?($("html, body").dequeue().animate({scrollTop:$(window).scrollTop()+50},100,"easeOutQuad"),c(100,function(){return a.autoScroll.scroll()})):a.autoScroll.scrolling=!1}}(this),start:function(a){return function(b){if(b.clientY<50){if(a.autoScroll.up=!0,a.autoScroll.down=!1,!a.autoScroll.scrolling)return a.autoScroll.scroll()}else{if(!(b.clientY>$(window).innerHeight()-50))return a.autoScroll.up=!1,a.autoScroll.down=!1;if(a.autoScroll.up=!1,a.autoScroll.down=!0,!a.autoScroll.scrolling)return a.autoScroll.scroll()}}}(this),stop:function(a){return function(){return a.autoScroll.up=!1,a.autoScroll.down=!1}}(this)},this.dragMirrorMode=function(a){return function(b,c,d){var e;return null==c&&(c=!0),e={id:a.getNewId(),mode:"mirror",maternal:b[0],element:null,object:d},b.on("mousedown",function(d){var f;if(d.preventDefault(),f=b.clone(),e.element=f[0],f.addClass("fb-draggable form-horizontal prepare-dragging"),a.hooks.move.drag=function(b,c){var d,g,h,i;if(!f.hasClass("prepare-dragging")||(f.removeClass("prepare-dragging"),f.addClass("dragging"),!c)){f.offset({left:b.pageX-f.width()/2,top:b.pageY-f.height()/2}),a.autoScroll.start(b),h=a.data.droppables,i=[];for(g in h)d=h[g],a.isHover(f,$(d.element))?i.push(d.move(b,e)):i.push(d.out(b,e));return i}},a.hooks.up.drag=function(b){var c,d,g,h;h=a.data.droppables;for(d in h)c=h[d],g=a.isHover(f,$(c.element)),c.up(b,g,e);return delete a.hooks.move.drag,delete a.hooks.up.drag,e.element=null,f.remove(),a.autoScroll.stop()},$("#div-contner").append(f),!c)return a.hooks.move.drag(d,c)}),e}}(this),this.dragDragMode=function(a){return function(b,c,d){var e;return null==c&&(c=!0),e={id:a.getNewId(),mode:"drag",maternal:null,element:b[0],object:d},b.addClass("fb-draggable"),b.on("mousedown",function(d){if(d.preventDefault(),!b.hasClass("dragging"))return b.addClass("prepare-dragging"),a.hooks.move.drag=function(c,d){var f,g,h;if(!b.hasClass("prepare-dragging")||(b.css({width:b.width(),height:b.height()}),b.removeClass("prepare-dragging"),b.addClass("dragging"),!d)){b.offset({left:c.pageX-b.width()/2,top:c.pageY-b.height()/2}),a.autoScroll.start(c),h=a.data.droppables;for(g in h)f=h[g],a.isHover(b,$(f.element))?f.move(c,e):f.out(c,e)}},a.hooks.up.drag=function(c){var d,f,g,h;h=a.data.droppables;for(f in h)d=h[f],g=a.isHover(b,$(d.element)),d.up(c,g,e);return delete a.hooks.move.drag,delete a.hooks.up.drag,b.css({width:"",height:"",left:"",top:""}),b.removeClass("dragging defer-dragging"),a.autoScroll.stop()},c?void 0:a.hooks.move.drag(d,c)}),e}}(this),this.dropMode=function(a){return function(c,d){return{id:a.getNewId(),element:c[0],move:function(a,c){return b.$apply(function(){return"function"==typeof d.move?d.move(a,c):void 0})},up:function(a,c,e){return b.$apply(function(){return"function"==typeof d.up?d.up(a,c,e):void 0})},out:function(a,c){return b.$apply(function(){return"function"==typeof d.out?d.out(a,c):void 0})}}}}(this),this.draggable=function(a){return function(b,c){var d,e,f,g,h,i,j;if(null==c&&(c={}),f=[],"mirror"===c.mode)for(g=0,i=b.length;g<i;g++)e=b[g],d=a.dragMirrorMode($(e),c.defer,c.object),f.push(d.id),a.data.draggables[d.id]=d;else for(h=0,j=b.length;h<j;h++)e=b[h],d=a.dragDragMode($(e),c.defer,c.object),f.push(d.id),a.data.draggables[d.id]=d;return f}}(this),this.droppable=function(a){return function(b,c){var d,e,f,g,h;for(null==c&&(c={}),f=[],g=0,h=b.length;g<h;g++)e=b[g],d=a.dropMode($(e),c),f.push(d),a.data.droppables[d.id]=d;return f}}(this),this.get=function(a){return this.setupEasing(),this.setupProviders(a),{isMouseMoved:this.isMouseMoved,data:this.data,draggable:this.draggable,droppable:this.droppable}},this.get.$inject=["$injector"],this.$get=this.get})}.call(this),function(){angular.module("builder",["builder.directive"])}.call(this),function(){var a=[].indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(b in this&&this[b]===a)return b;return-1};angular.module("builder.provider",[]).provider("$builder",function(){var b,c,d;c=null,b=null,d=null,this.config={popoverPlacement:""},this.components={},this.groups=[],this.broadcastChannel={updateInput:"$updateInput"},this.forms={default:[]},this.genrateId=function(a){return"form_"+(new Date).getTime()},this.convertComponent=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,aa,ba,ca,da;return c={name:a,group:null!=(d=b.group)?d:"Default",tab:null!=(e=b.tab)?e:"Default",id:null!=(p=b.id)?p:"",label:null!=(A=b.label)?A:"",description:null!=(L=b.description)?L:"",onglet1:null!=(W=b.onglet1)?W:"",onglet2:null!=(aa=b.onglet2)?aa:"",placeholder:null!=(ba=b.placeholder)?ba:"",editable:null==(ca=b.editable)||ca,required:null!=(da=b.required)&&da,validation:null!=(f=b.validation)?f:"string",validationOptions:null!=(g=b.validationOptions)?g:[],options:null!=(h=b.options)?h:[],options2:null!=(i=b.options2)?i:[],arrayToText:null!=(j=b.arrayToText)&&j,template:b.template,templateUrl:b.templateUrl,icon:b.icon,popoverTemplate:b.popoverTemplate,popoverTemplateUrl:b.popoverTemplateUrl,value:null!=(k=b.value)?k:"",dateformat:null!=(l=b.dateformat)?l:"",treechecklistoptions:null!=(m=b.treechecklistoptions)?m:"",options3:null!=(n=b.options3)?n:[],subrows:null!=(o=b.subrows)?o:[],subcolumns:null!=(q=b.subcolumns)?q:[],numbersubrows:null!=(r=b.numbersubrows)?r:[],numbersubcolumns:null!=(s=b.numbersubcolumns)?s:[],widthsubcolumns:null!=(t=b.widthsubcolumns)?t:[],readgroups:null!=(u=b.readgroups)?u:[],readusers:null!=(v=b.readusers)?v:[],writegroups:null!=(w=b.writegroups)?w:[],writeusers:null!=(x=b.writeusers)?x:[],disabledfortaches:null!=(y=b.disabledfortaches)?y:[],lastcolumn:null!=(z=b.lastcolumn)?z:[],explastcolumn:null!=(B=b.explastcolumn)?B:[],multple:null!=(C=b.multple)&&C,multilinerows:null!=(D=b.multilinerows)?D:"",multilinecols:null!=(E=b.multilinecols)?E:"",tachesbyprocess:null!=(F=b.tachesbyprocess)?F:{},allowImport:null!=(G=b.allowImport)&&G,allowExport:null!=(H=b.allowExport)&&H,allowSearch:null!=(I=b.allowSearch)&&I,allowFilter:null!=(J=b.allowFilter)&&J,entityUserRights:null!=(K=b.entityUserRights)?K:[],entityGroupRights:null!=(M=b.entityGroupRights)?M:[],entityUserWriteRights:null!=(N=b.entityUserWriteRights)?N:[],entityGroupWriteRights:null!=(O=b.entityGroupWriteRights)?O:[],entityFilter:null!=(P=b.entityFilter)?P:[],regex:null!=(Q=b.regex)?Q:"",colTachesbyprocess:null!=(R=b.colTachesbyprocess)?R:[],allowCreate:null!=(S=b.allowCreate)&&S,allowUpdate:null!=(T=b.allowUpdate)&&T,allowDelete:null!=(U=b.allowDelete)&&U,errorMessage:null!=(V=b.errorMessage)?V:"",inputSize:null!=(X=b.inputSize)?X:"",datePattern:null!=(Y=b.datePattern)?Y:"",databaseRequest:null!=(Z=b.databaseRequest)?Z:"",useRequest:null!=($=b.useRequest)&&$,maxSelect:null!=(_=b.maxSelect)?_:""},c.template||c.templateUrl||console.error("The template is empty."),c.popoverTemplate||c.popoverTemplateUrl||console.error("The popoverTemplate is empty."),c},this.convertFormObject=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$;if(null==b&&(b={}),null==(c=this.components[b.component]))throw"The component "+b.component+" was not registered.";return"string"==typeof b.lastcolumn&&(b.lastcolumn=[b.lastcolumn]),"string"==typeof b.explastcolumn&&(b.explastcolumn=[b.explastcolumn]),{component:b.component,tab:null!=(d=b.tab)?d:c.tab,editable:null!=(e=b.editable)?e:c.editable,index:null!=(p=b.index)?p:0,id:b.id?b.id:c.id?c.id:this.genrateId(null!=(A=b.label)?A:c.label),label:null!=(L=b.label)?L:c.label,description:null!=(W=b.description)?W:c.description,onglet1:null!=(X=b.onglet1)?X:c.onglet1,onglet2:null!=(Y=b.onglet2)?Y:c.onglet2,placeholder:null!=(Z=b.placeholder)?Z:c.placeholder,options:null!=($=b.options)?$:c.options,options2:null!=(f=b.options2)?f:c.options2,required:null!=(g=b.required)?g:c.required,validation:null!=(h=b.validation)?h:c.validation,value:null!=(i=b.value)?i:c.value,dateformat:null!=(j=b.dateformat)?j:c.dateformat,treechecklistoptions:b.treechecklistoptions?JSON.parse(JSON.stringify(b.treechecklistoptions)):JSON.parse(JSON.stringify(c.treechecklistoptions)),options3:null!=(k=b.options3)?k:c.options3,subrows:null!=(l=b.subrows)?l:c.subrows,subcolumns:null!=(m=b.subcolumns)?m:c.subcolumns,numbersubrows:null!=(n=b.numbersubrows)?n:c.numbersubrows,numbersubcolumns:null!=(o=b.numbersubcolumns)?o:c.numbersubcolumns,widthsubcolumns:null!=(q=b.widthsubcolumns)?q:c.widthsubcolumns,readgroups:null!=(r=b.readgroups)?r:c.readgroups,readusers:null!=(s=b.readusers)?s:c.readusers,writegroups:null!=(t=b.writegroups)?t:c.writegroups,writeusers:null!=(u=b.writeusers)?u:c.writeusers,disabledfortaches:null!=(v=b.disabledfortaches)?v:c.disabledfortaches,lastcolumn:null!=(w=b.lastcolumn)?w:c.lastcolumn,explastcolumn:null!=(x=b.explastcolumn)?x:c.explastcolumn,multple:null!=(y=b.multple)?y:c.multple,multilinerows:b.multilinerows?JSON.parse(JSON.stringify(b.multilinerows)):JSON.parse(JSON.stringify(c.multilinerows)),multilinecols:b.multilinecols?JSON.parse(JSON.stringify(b.multilinecols)):JSON.parse(JSON.stringify(c.multilinecols)),tachesbyprocess:null!=(z=b.tachesbyprocess)?z:c.tachesbyprocess,allowImport:null!=(B=b.allowImport)?B:c.allowImport,allowExport:null!=(C=b.allowExport)?C:c.allowExport,allowSearch:null!=(D=b.allowSearch)?D:c.allowSearch,allowFilter:null!=(E=b.allowFilter)?E:c.allowFilter,entityUserRights:null!=(F=b.entityUserRights)?F:c.entityUserRights,entityGroupRights:null!=(G=b.entityGroupRights)?G:c.entityGroupRights,entityUserWriteRights:null!=(H=b.entityUserWriteRights)?H:c.entityUserWriteRights,entityGroupWriteRights:null!=(I=b.entityGroupWriteRights)?I:c.entityGroupWriteRights,entityFilter:null!=(J=b.entityFilter)?J:c.entityFilter,regex:null!=(K=b.regex)?K:c.regex,colTachesbyprocess:null!=(M=b.colTachesbyprocess)?M:c.colTachesbyprocess,allowCreate:null!=(N=b.allowCreate)?N:c.allowCreate,allowUpdate:null!=(O=b.allowUpdate)?O:c.allowUpdate,allowDelete:null!=(P=b.allowDelete)?P:c.allowDelete,errorMessage:null!=(Q=b.errorMessage)?Q:c.errorMessage,inputSize:null!=(R=b.inputSize)?R:c.inputSize,datePattern:null!=(S=b.datePattern)?S:c.datePattern,databaseRequest:null!=(T=b.databaseRequest)?T:c.databaseRequest,useRequest:null!=(U=b.useRequest)?U:c.useRequest,maxSelect:null!=(V=b.maxSelect)?V:c.maxSelect}},this.reindexFormObject=function(a){return function(b){var c,d,e,f;for(c=a.forms[b],d=e=0,f=c.length;e<f;d=e+=1)c[d].index=d}}(this),this.setupProviders=function(a){return function(a){return c=a,b=c.get("$http"),d=c.get("$templateCache")}}(),this.loadTemplate=function(a){if(null==a.template&&b.get(a.templateUrl,{cache:d}).success(function(b){return a.template=b}),null==a.popoverTemplate)return b.get(a.popoverTemplateUrl,{cache:d}).success(function(b){return a.popoverTemplate=b})},this.registerComponent=function(b){return function(d,e){var f,g;null==e&&(e={}),null==b.components[d]?(f=b.convertComponent(d,e),b.components[d]=f,null!=c&&b.loadTemplate(f),g=f.group,a.call(b.groups,g)<0&&b.groups.push(f.group)):console.error("The component "+d+" was registered.")}}(this),this.addFormObject=function(a){return function(b,c){var d;return null==c&&(c={}),null==(d=a.forms)[b]&&(d[b]=[]),a.insertFormObject(b,a.forms[b].length,c)}}(this),this.insertFormObject=function(a){return function(b,c,d){var e;return null==d&&(d={}),null==(e=a.forms)[b]&&(e[b]=[]),c>a.forms[b].length?c=a.forms[b].length:c<0&&(c=0),a.forms[b].splice(c,0,a.convertFormObject(b,d)),a.reindexFormObject(b),a.forms[b][c]}}(this),this.removeFormObject=function(a){return function(b,c){var d;return d=a.forms[b],d.splice(c,1),a.reindexFormObject(b)}}(this),this.updateFormObjectIndex=function(a){return function(b,c,d){var e,f;if(c!==d)return f=a.forms[b],e=f.splice(c,1)[0],f.splice(d,0,e),a.reindexFormObject(b)}}(this),this.$get=["$injector",function(a){return function(b){var c,d,e;a.setupProviders(b),e=a.components;for(d in e)c=e[d],a.loadTemplate(c);return{config:a.config,components:a.components,groups:a.groups,forms:a.forms,broadcastChannel:a.broadcastChannel,registerComponent:a.registerComponent,addFormObject:a.addFormObject,insertFormObject:a.insertFormObject,removeFormObject:a.removeFormObject,updateFormObjectIndex:a.updateFormObjectIndex}}}(this)]})}.call(this);